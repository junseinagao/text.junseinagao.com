---
import { SITE_URL, AUTHOR_NAME, AUTHOR_URL } from "../consts";

interface Props {
  title: string;
  description: string;
  publishDate: Date;
  image: string;
  slug: string;
  tags?: string[];
}

const { title, description, publishDate, image, slug, tags = [] } = Astro.props;

const schema = {
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  headline: title,
  description: description,
  image: `${SITE_URL}${image}`,
  datePublished: publishDate.toISOString(),
  dateModified: publishDate.toISOString(),
  author: {
    "@type": "Person",
    name: AUTHOR_NAME,
    url: AUTHOR_URL,
  },
  publisher: {
    "@type": "Person",
    name: AUTHOR_NAME,
  },
  mainEntityOfPage: {
    "@type": "WebPage",
    "@id": `${SITE_URL}/posts/${slug}`,
  },
  keywords: tags.join(", "),
  inLanguage: "ja",
};
---

<script type="application/ld+json" set:html={JSON.stringify(schema)} />
